<!DOCTYPE html>
<html lang="ar-AE" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ | Ù…ØªØ¬Ø± Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª | ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ù…Ù…ØªØ§Ø²Ø© â­</title>
    <meta name="description" content="Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ù…Ù†ØªØ¬Ø§ØªÙƒ Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© ÙÙŠ Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ Ù…Ø¹ Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© - Ø§ØªÙ…Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ø³Ù‡ÙˆÙ„Ø© Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨">
    <link rel="canonical" href="https://emirates-gifts.arabsad.com/cart.html">
    
    <!-- DNS Prefetch Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ -->
    <link rel="dns-prefetch" href="https://m5zoon.com">
    <link rel="dns-prefetch" href="https://wa.me">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="./css/performance-critical.css" as="style">
    <link rel="preload" href="./js/performance-optimizer.js" as="script">
    
    <!-- Critical CSS Ù…Ø¯Ù…Ø¬ -->
    <style>
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:linear-gradient(135deg,#fdfbfb 0%,#f8f6f0 100%);color:#2C3E50;direction:rtl;margin:0;padding:0;font-display:swap}
        .container{max-width:1000px;margin:0 auto;padding:0 15px;contain:layout}
        .cart-page{padding:40px 20px;min-height:calc(100vh - 200px)}
        .cart-container{max-width:1000px;margin:0 auto;background:white;border-radius:20px;padding:40px;box-shadow:0 15px 40px rgba(0,0,0,0.1);contain:layout style paint}
        .cart-header{text-align:center;margin-bottom:40px;padding-bottom:25px;border-bottom:3px solid #FFD700}
        .cart-header h1{font-size:clamp(2rem,5vw,2.8rem);color:#2c3e50;margin-bottom:12px;background:linear-gradient(135deg, #FFD700, #D4AF37);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
        .cart-item{display:flex;align-items:center;gap:20px;padding:25px;border:2px solid #f1f3f4;border-radius:18px;margin-bottom:20px;background:#fafbfc;transition:all 0.3s ease;min-height:120px}
        .cart-item:hover{box-shadow:0 8px 25px rgba(0,0,0,0.12);border-color:#FFD700;transform:translateY(-2px)}
        .cart-item img{width:90px;height:90px;object-fit:cover;border-radius:15px;aspect-ratio:1/1;transition:opacity 0.3s ease}
        .item-details{flex:1}
        .item-title{font-size:1.35rem;font-weight:600;color:#2c3e50;margin-bottom:8px;line-height:1.3}
        .item-rating{display:flex;align-items:center;gap:10px;margin-bottom:12px;padding:8px 12px;background:rgba(255,215,0,0.1);border-radius:10px;width:fit-content}
        .item-rating .stars{color:#FFD700;font-size:16px;letter-spacing:1px}
        .item-rating .rating-number{font-weight:bold;color:#2c3e50;margin:0 5px}
        .item-rating .reviews-count{font-size:13px;color:#666}
        .item-price{font-size:1.25rem;font-weight:700;color:#D4AF37;margin-bottom:8px}
        .item-store{font-size:0.9rem;color:#666;font-style:italic}
        .quantity-controls{display:flex;align-items:center;gap:12px;background:white;border-radius:12px;padding:10px;border:2px solid #e9ecef}
        .quantity-btn{background:linear-gradient(135deg,#667eea,#764ba2);color:white;border:none;width:36px;height:36px;border-radius:50%;cursor:pointer;font-weight:bold;display:flex;align-items:center;justify-content:center;font-size:18px;transition:all 0.2s ease}
        .quantity-btn:hover{transform:scale(1.1);box-shadow:0 4px 12px rgba(102,126,234,0.3)}
        .quantity-display{font-weight:bold;min-width:35px;text-align:center;font-size:1.1rem}
        .remove-item{background:linear-gradient(135deg,#e74c3c,#c0392b);color:white;border:none;padding:12px 18px;border-radius:10px;cursor:pointer;font-weight:600;transition:all 0.3s ease;font-size:0.9rem}
        .remove-item:hover{transform:translateY(-2px);box-shadow:0 6px 15px rgba(231,76,60,0.3)}
        .cart-summary{background:linear-gradient(135deg, #667eea, #764ba2);color:white;padding:35px;border-radius:20px;margin-top:35px;box-shadow:0 10px 30px rgba(102,126,234,0.2)}
        .summary-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px;font-size:1.15rem}
        .summary-total{font-size:1.6rem;font-weight:bold;padding-top:20px;border-top:2px solid rgba(255,255,255,0.3)}
        .checkout-actions{display:grid;grid-template-columns:1fr 1fr;gap:18px;margin-top:35px}
        .btn-checkout{background:linear-gradient(135deg,#25D366,#128C7E);color:white;padding:20px 30px;border:none;border-radius:15px;font-size:1.15rem;font-weight:700;cursor:pointer;text-decoration:none;text-align:center;display:flex;align-items:center;justify-content:center;gap:10px;transition:all 0.3s ease;box-shadow:0 6px 20px rgba(37,211,102,0.2)}
        .btn-checkout:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(37,211,102,0.4)}
        .btn-continue{background:transparent;color:#667eea;border:3px solid #667eea;padding:20px 30px;border-radius:15px;font-size:1.15rem;font-weight:700;cursor:pointer;text-decoration:none;text-align:center;display:flex;align-items:center;justify-content:center;gap:10px;transition:all 0.3s ease}
        .btn-continue:hover{background:#667eea;color:white;text-decoration:none;transform:translateY(-2px)}
        .empty-cart{text-align:center;padding:80px 20px}
        .empty-cart-icon{font-size:5rem;margin-bottom:25px;opacity:0.6}
        .empty-cart h2{color:#2c3e50;margin-bottom:18px;font-size:1.8rem}
        .empty-cart p{color:#666;margin-bottom:35px;font-size:1.1rem}
        @media (max-width: 768px){.cart-container{padding:25px;margin:15px}.cart-item{flex-direction:column;text-align:center;gap:20px;padding:20px}.cart-item img{width:120px;height:120px}.checkout-actions{grid-template-columns:1fr;gap:15px}.cart-header h1{font-size:2.2rem}.quantity-controls{justify-content:center}}
        .scroll-progress{position:fixed;top:0;left:0;width:0%;height:4px;background:linear-gradient(90deg,#FFD700,#D4AF37);z-index:9999;transition:width 0.1s ease}
    </style>
    
    <link rel="stylesheet" href="./woodmart-lite.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="./css/performance-critical.css">
    <noscript><link rel="stylesheet" href="./woodmart-lite.css"></noscript>
    
    <!-- Open Graph -->
    <meta property="og:title" content="Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ - Ù…ØªØ¬Ø± Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª">
    <meta property="og:description" content="Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…Ù†ØªØ¬Ø§ØªÙƒ ÙˆØ¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ Ø¨Ø³Ù‡ÙˆÙ„Ø© Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨">
    <meta property="og:url" content="https://emirates-gifts.arabsad.com/cart.html">
</head>
<body>
    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… -->
    <div class="scroll-progress" id="scrollProgress"></div>
    
    <!-- Skip Links Ù„Ù„ÙˆØµÙˆÙ„ -->
    <a href="#main-content" class="skip-link">Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø³Ù„Ø©</a>
    
    <!-- Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø´ÙØ§ÙØ© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© -->
    <div class="mobile-overlay" id="mobileOverlay"></div>
    
    <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
    <div class="mobile-sidebar" id="mobileSidebar">
        <div class="mobile-sidebar-header">
            <div class="mobile-sidebar-logo">Ù…ØªØ¬Ø± Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</div>
            <button class="mobile-sidebar-close" id="closeSidebar" aria-label="Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">âœ–</button>
        </div>
        <nav class="mobile-sidebar-nav">
            <a href="./">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="./blog/">ğŸ“ Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©</a>
            <a href="./products-showcase.html">ğŸ› Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
            <a href="./cart.html" class="current-page">ğŸ› Ø§Ù„Ø³Ù„Ø©</a>
            <a href="https://wa.me/201110760081" target="_blank">ğŸ“± ÙˆØ§ØªØ³Ø§Ø¨</a>
        </nav>
    </div>
    
    <header class="header">
        <div class="header__inner container">
            <a href="./" class="header__logo">
                <h1>Ù…ØªØ¬Ø± Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</h1>
            </a>
            
            <button class="mobile-menu-toggle" id="openSidebar" aria-label="ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">
                <span class="menu-text">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</span>
                <span class="menu-icon">â˜°</span>
            </button>
            
            <nav class="main-nav">
                <a href="./">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="./blog/">ğŸ“ Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©</a>
                <a href="./products-showcase.html">ğŸ› Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
                <a href="https://wa.me/201110760081" target="_blank">
                    ğŸ“± ÙˆØ§ØªØ³Ø§Ø¨
                </a>
            </nav>
        </div>
    </header>
    
    <main class="cart-page" id="main-content">
        <div class="cart-container">
            <div class="cart-header">
                <h1>ğŸ› Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</h1>
                <p>Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…Ù†ØªØ¬Ø§ØªÙƒ Ù…Ø¹ Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù‚Ø¨Ù„ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</p>
            </div>
            
            <div id="cart-content">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                <div class="loading-message" style="text-align: center; padding: 50px 20px; font-size: 1.2rem; color: #666;">
                    â³ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚...
                </div>
            </div>
        </div>
    </main>
    
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Ù…ØªØ¬Ø± Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</h3>
                    <p>Ù…ØªØ¬Ø±ÙƒÙ… Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ Ù„Ù„Ø¹Ø·ÙˆØ± ÙˆØ§Ù„Ø³Ø§Ø¹Ø§Øª ÙˆØ§Ù„Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„ÙØ§Ø®Ø±Ø© ÙÙŠ Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª.</p>
                    <a href="https://wa.me/201110760081" target="_blank" class="whatsapp-contact">
                        ğŸ“± ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
                    </a>
                </div>
                
                <div class="footer-section">
                    <h3>Ø±ÙˆØ§Ø¨Ø· Ù…Ù‡Ù…Ø©</h3>
                    <ul>
                        <li><a href="./">Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                        <li><a href="./products-showcase.html">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a></li>
                        <li><a href="./blog/">Ù…Ø¯ÙˆÙ†Ø© Ø§Ù„Ù…ØªØ¬Ø±</a></li>
                        <li><a href="./sitemap.xml">Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer__bottom">
                <p>&copy; 2025 Ù…ØªØ¬Ø± Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
                <div class="social-links" style="margin-top: 12px;">
                    <a href="https://wa.me/201110760081" target="_blank" title="ÙˆØ§ØªØ³Ø§Ø¨ Ù…ØªØ¬Ø± Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª">ğŸ“±</a>
                    <a href="./sitemap.xml" target="_blank" title="Sitemap">ğŸ—ºï¸</a>
                    <a href="./merchant-feed.xml" target="_blank" title="Google Merchant Feed">ğŸ›</a>
                </div>
            </div>
        </div>
    </footer>
    
    <button id="back-to-top" title="Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¹Ù„Ù‰" aria-label="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰">
        &#8593;
    </button>
    
    <!-- ØªØ­Ù…ÙŠÙ„ JavaScript Ù…Ø­Ø³Ù‘Ù† -->
    <script src="./js/performance-optimizer.js" defer></script>
    <script src="./js/reviews-system.js" defer></script>
    <script src="./js/cart-system.js" defer></script>
    <script src="./js/main.js" defer></script>
    <script src="./js/blog-reviews.js" defer></script>
    
    <script type="module">
        // Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
        const openBtn = document.getElementById('openSidebar');
        const closeBtn = document.getElementById('closeSidebar');
        const sidebar = document.getElementById('mobileSidebar');
        const overlay = document.getElementById('mobileOverlay');
        const scrollProgress = document.getElementById('scrollProgress');
        
        const openSidebar = () => {
            sidebar?.classList.add('open');
            overlay?.classList.add('active');
            document.body.style.overflow = 'hidden';
        };
        
        const closeSidebar = () => {
            sidebar?.classList.remove('open');
            overlay?.classList.remove('active');
            document.body.style.overflow = '';
        };
        
        openBtn?.addEventListener('click', openSidebar);
        closeBtn?.addEventListener('click', closeSidebar);
        overlay?.addEventListener('click', closeSidebar);
        document.addEventListener('keydown', (e) => e.key === 'Escape' && closeSidebar());
        
        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ù„Ø© Ù…Ø¹ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù‘Ù†Ø©
        let cart = JSON.parse(localStorage.getItem('emirates-gifts-cart') || '[]');
        
        // ØªØ­Ø¯ÙŠØ« ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬
        function updateQuantity(productId, change) {
            const itemIndex = cart.findIndex(item => item.id === productId);
            if (itemIndex !== -1) {
                cart[itemIndex].quantity += change;
                if (cart[itemIndex].quantity <= 0) {
                    cart.splice(itemIndex, 1);
                }
                localStorage.setItem('emirates-gifts-cart', JSON.stringify(cart));
                displayCart();
                
                // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ØªØºÙŠÙŠØ±
                const updatedCard = document.querySelector(`[data-product-id="${productId}"]`);
                if (updatedCard) {
                    updatedCard.style.transform = 'scale(0.95)';
                    setTimeout(() => updatedCard.style.transform = 'scale(1)', 150);
                }
            }
        }
        
        // Ø­Ø°Ù Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø³Ù„Ø©
        function removeItem(productId) {
            const removedItem = cart.find(item => item.id === productId);
            cart = cart.filter(item => item.id !== productId);
            localStorage.setItem('emirates-gifts-cart', JSON.stringify(cart));
            displayCart();
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø­Ø°Ù Ù…Ø­Ø³Ù‘Ù†Ø©
            const toast = document.createElement('div');
            toast.className = 'delete-notification';
            toast.innerHTML = `
                <div class="notification-content">
                    <div class="delete-icon">ğŸ—‘ï¸</div>
                    <div class="notification-text">
                        <strong>ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­</strong>
                        <p>â€œ${removedItem ? removedItem.title : 'Ø§Ù„Ù…Ù†ØªØ¬'}â€ Ø­ÙØ°ÙÙ Ù…Ù† Ø§Ù„Ø³Ù„Ø©</p>
                    </div>
                </div>
            `;
            
            toast.style.cssText = `
                position: fixed; top: 20px; right: 20px; 
                background: linear-gradient(135deg, #e74c3c, #c0392b); color: white;
                padding: 15px 20px; border-radius: 12px; z-index: 1000;
                font-weight: 600; opacity: 0; transition: opacity 0.3s ease;
                box-shadow: 0 6px 20px rgba(231, 76, 60, 0.3);
            `;
            
            document.body.appendChild(toast);
            setTimeout(() => toast.style.opacity = '1', 100);
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => document.body.removeChild(toast), 300);
            }, 3000);
        }
        
        // Ø¹Ø±Ø¶ Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ø³Ù„Ø© Ù…Ø¹ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù‘Ù†Ø©
        function displayCart() {
            const cartContent = document.getElementById('cart-content');
            
            if (cart.length === 0) {
                cartContent.innerHTML = `
                    <div class="empty-cart">
                        <div class="empty-cart-icon">ğŸ›</div>
                        <h2>Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙØ§Ø±ØºØ©</h2>
                        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø³Ù„ØªÙƒ Ø­Ø§Ù„ÙŠØ§Ù‹ Ù…Ù† Ù…ØªØ¬Ø± Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</p>
                        <a href="./" class="btn-continue">
                            ğŸ› Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†
                        </a>
                        <a href="./products-showcase.html" class="btn-continue" style="margin-top: 15px;">
                            ğŸ Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
                        </a>
                    </div>
                `;
                return;
            }
            
            const total = cart.reduce((sum, item) => {
                const price = parseFloat(item.sale_price || item.price || '0');
                return sum + (price * item.quantity);
            }, 0);
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            
            let cartHTML = '<div class="cart-items">';
            
            cart.forEach(item => {
                const itemPrice = parseFloat(item.sale_price || item.price || '0');
                const itemTotal = itemPrice * item.quantity;
                
                // Ø¹Ø±Ø¶ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªÙˆÙØ±
                const ratingHTML = item.rating ? `
                    <div class="item-rating">
                        <span class="stars">${'â˜…'.repeat(Math.floor(item.rating.rating))}</span>
                        <span class="rating-number">${item.rating.rating.toFixed(1)}</span>
                        <span class="reviews-count">(${item.rating.count})</span>
                        <span class="professional-note">âœ“ ${item.rating.professionalReview || 'Ù…Ù†ØªØ¬ Ù…Ù…ÙŠØ²'}</span>
                    </div>
                ` : '';
                
                cartHTML += `
                    <div class="cart-item" data-product-id="${item.id}">
                        <img src="${item.image_link || item.image}" alt="${item.title}" loading="lazy" decoding="async">
                        <div class="item-details">
                            <div class="item-title">${item.title}</div>
                            ${ratingHTML}
                            <div class="item-price">${itemPrice.toFixed(2)} Ø¯.Ø¥ x ${item.quantity}</div>
                            <div class="item-store">Ù…Ù†: Ù…ØªØ¬Ø± Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</div>
                            ${item.addedAt ? `<small style="color: #999; font-size: 0.8rem;">Ø£Ø¶ÙŠÙ ÙÙŠ: ${new Date(item.addedAt).toLocaleDateString('ar-AE')}</small>` : ''}
                        </div>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="updateQuantity('${item.id}', -1)" aria-label="ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ÙƒÙ…ÙŠØ©">-</button>
                            <span class="quantity-display">${item.quantity}</span>
                            <button class="quantity-btn" onclick="updateQuantity('${item.id}', 1)" aria-label="Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ÙƒÙ…ÙŠØ©">+</button>
                        </div>
                        <button class="remove-item" onclick="removeItem('${item.id}')" aria-label="Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬">
                            ğŸ—‘ï¸ Ø­Ø°Ù
                        </button>
                    </div>
                `;
            });
            
            cartHTML += '</div>';
            
            // Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…Ø­Ø³Ù‘Ù†
            cartHTML += `
                <div class="cart-summary">
                    <div class="summary-header">
                        <h3>ğŸ“Š Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨</h3>
                    </div>
                    <div class="summary-row">
                        <span>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:</span>
                        <span>${totalItems} Ù‚Ø·Ø¹Ø©</span>
                    </div>
                    <div class="summary-row">
                        <span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:</span>
                        <span>${total.toFixed(2)} Ø¯.Ø¥</span>
                    </div>
                    <div class="summary-row">
                        <span>Ø±Ø³ÙˆÙ… Ø§Ù„Ø´Ø­Ù†:</span>
                        <span style="color: #27ae60; font-weight: bold;">Ù…Ø¬Ø§Ù†ÙŠ âœ“</span>
                    </div>
                    <div class="summary-row summary-total">
                        <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:</span>
                        <span>${total.toFixed(2)} Ø¯.Ø¥</span>
                    </div>
                    
                    <div class="delivery-info" style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 10px; font-size: 0.9rem;">
                        ğŸšš <strong>Ø§Ù„ØªÙˆØµÙŠÙ„:</strong> Ù…Ø¬Ø§Ù†ÙŠ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø¥Ù…Ø§Ø±Ø§Øª Ø§Ù„Ø¯ÙˆÙ„Ø©<br>
                        â° <strong>ÙˆÙ‚Øª Ø§Ù„ØªÙˆØµÙŠÙ„:</strong> 24-48 Ø³Ø§Ø¹Ø©<br>
                        âœ… <strong>Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©:</strong> Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙ„ÙŠØ© 100%
                    </div>
                    
                    <div class="checkout-actions">
                        <a href="${createWhatsAppOrderLink()}" class="btn-checkout" target="_blank">
                            ğŸ“± Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
                        </a>
                        <a href="./products-showcase.html" class="btn-continue">
                            ğŸ› Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ³ÙˆÙ‚
                        </a>
                    </div>
                </div>
            `;
            
            cartContent.innerHTML = cartHTML;
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§Ù†ÙŠÙ…ÙŠØ´Ù† Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø³Ù„Ø©
            setTimeout(() => {
                document.querySelectorAll('.cart-item').forEach((item, index) => {
                    item.style.opacity = '0';
                    item.style.transform = 'translateX(50px)';
                    setTimeout(() => {
                        item.style.opacity = '1';
                        item.style.transform = 'translateX(0)';
                    }, index * 100);
                });
            }, 100);
        }
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„Ø·Ù„Ø¨ Ù…Ø¹ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª
        function createWhatsAppOrderLink() {
            if (cart.length === 0) return '#';
            
            let message = `Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ø±ÙŠØ¯ Ø¥ØªÙ…Ø§Ù… Ø·Ù„Ø¨ Ù…Ù† Ù…ØªØ¬Ø± Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª:

`;
            
            let total = 0;
            cart.forEach((item, index) => {
                const itemPrice = parseFloat(item.sale_price || item.price || '0');
                const itemTotal = itemPrice * item.quantity;
                total += itemTotal;
                
                message += `${index + 1}. ${item.title}
`;
                if (item.rating) {
                    message += `   â­ ØªÙ‚ÙŠÙŠÙ…: ${item.rating.rating.toFixed(1)} (${item.rating.count} Ù…Ø±Ø§Ø¬Ø¹Ø©)
`;
                    if (item.rating.professionalReview) {
                        message += `   âœ“ ${item.rating.professionalReview}
`;
                    }
                }
                message += `   Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity}
`;
                message += `   Ø§Ù„Ø³Ø¹Ø±: ${itemPrice.toFixed(2)} Ø¯.Ø¥
`;
                message += `   Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${itemTotal.toFixed(2)} Ø¯.Ø¥

`;
            });
            
            message += `ğŸ’° Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨: ${total.toFixed(2)} Ø¯.Ø¥
`;
            message += `ğŸšš Ø§Ù„Ø´Ø­Ù†: Ù…Ø¬Ø§Ù†ÙŠ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø¥Ù…Ø§Ø±Ø§Øª Ø§Ù„Ø¯ÙˆÙ„Ø©

`;
            message += 'ÙŠØ±Ø¬Ù‰ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ¥Ø±Ø³Ø§Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙˆØµÙŠÙ„ Ù„Ø¥ØªÙ…Ø§Ù… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø´Ø±Ø§Ø¡.';
            
            return `https://wa.me/201110760081?text=${encodeURIComponent(message)}`;
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
        const updateScrollProgress = () => {
            const scrollTop = window.pageYOffset;
            const docHeight = document.documentElement.scrollHeight;
            const winHeight = window.innerHeight;
            const scrollPercent = scrollTop / (docHeight - winHeight);
            if (scrollProgress) {
                scrollProgress.style.width = `${scrollPercent * 100}%`;
            }
        };
        
        // Ø±Ø¨Ø· Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªÙ…Ø±ÙŠØ±
        let scrollTimeout;
        window.addEventListener('scroll', () => {
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(updateScrollProgress, 16);
        }, { passive: true });
        
        // Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰
        const backToTopBtn = document.getElementById('back-to-top');
        if (backToTopBtn) {
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTopBtn.classList.add('show');
                } else {
                    backToTopBtn.classList.remove('show');
                }
            }, { passive: true });
            
            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }
        
        // Ø¬Ø¹Ù„ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø¹Ø§Ù…Ø©
        window.updateQuantity = updateQuantity;
        window.removeItem = removeItem;
        window.createWhatsAppOrderLink = createWhatsAppOrderLink;
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸ› ØªÙ… ØªØ­Ù…ÙŠÙ„ ØµÙØ­Ø© Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ Ø¨Ù†Ø¬Ø§Ø­');
            displayCart();
            
            // Ø¥Ø¶Ø§ÙØ© Google Analytics Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªØ§Ø­
            if (typeof gtag !== 'undefined') {
                gtag('event', 'page_view', {
                    'page_title': 'Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ - Ù…ØªØ¬Ø± Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª',
                    'cart_items': cart.length
                });
            }
        });
    </script>
    
    <!-- JSON-LD Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ù„Ø© -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ - Ù…ØªØ¬Ø± Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª",
        "description": "Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¹Ø·ÙˆØ± ÙˆØ§Ù„Ø³Ø§Ø¹Ø§Øª Ù…Ø¹ Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª",
        "url": "https://emirates-gifts.arabsad.com/cart.html",
        "isPartOf": {
            "@type": "WebSite",
            "name": "Ù…ØªØ¬Ø± Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª",
            "url": "https://emirates-gifts.arabsad.com"
        }
    }
    </script>
</body>
</html>