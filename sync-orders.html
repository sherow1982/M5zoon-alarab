<!DOCTYPE html>
<html lang="ar-AE" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø§Ù†Ø§Ø¬Ø± Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª - Ø²Ù… localStorage</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Arial', sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }
        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        .info-box strong {
            color: #1976D2;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-primary {
            background: #2196F3;
            color: white;
        }
        .btn-primary:hover {
            background: #1976D2;
        }
        .btn-danger {
            background: #f44336;
            color: white;
        }
        .btn-danger:hover {
            background: #d32f2f;
        }
        .orders-list {
            margin-top: 30px;
        }
        .order-item {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 6px;
        }
        .order-id {
            font-weight: bold;
            color: #2196F3;
            margin-bottom: 8px;
        }
        .order-details {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }
        .status {
            margin-top: 30px;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            font-weight: bold;
        }
        .status.success {
            background: #4CAF50;
            color: white;
        }
        .status.error {
            background: #f44336;
            color: white;
        }
        .status.info {
            background: #2196F3;
            color: white;
        }
        textarea {
            width: 100%;
            height: 200px;
            padding: 10px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            margin: 10px 0;
        }
        .code-block {
            background: #f5f5f5;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            overflow-x: auto;
            font-size: 12px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“„ Ù…Ø§Ù†Ø§Ø¬Ø± Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª</h1>
        
        <div class="info-box">
            <strong>ğŸ“š Ø´Ø±Ø­:</strong> Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© ÙÙ‚Ø·. ÙŠÙ…ÙƒÙ†Ùƒ Ø±Ø¤ÙŠØ© Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ ÙˆØ±ÙØ¹Ù‡Ø§ Ø§Ù„Ù‰ GitHub.
        </div>
        
        <div>
            <button class="btn btn-primary" onclick="displayOrders()">ğŸ“„ Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</button>
            <button class="btn btn-primary" onclick="copyToClipboard()">ğŸ“‹ Ù†Ø³Ø® JSONL Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©</button>
            <button class="btn btn-danger" onclick="clearOrders()">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø¬Ù…ÙŠØ¹</button>
        </div>
        
        <div id="status"></div>
        
        <div id="ordersContainer" class="orders-list"></div>
        
        <div class="info-box" style="margin-top: 30px;">
            <strong>ğŸ’¡ Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø±ÙØ¹ Ø¹Ù„Ù‰ GitHub:</strong>
            <ol style="margin-right: 20px; margin-top: 10px;">
                <li>Ø§Ø¶ØºØ· "Ù†Ø³Ø® JSONL"</li>
                <li>Ø§Ø°Ù‡Ø¨ Ù„ÙŠ:
                    <a href="https://github.com/sherow1982/emirates-gifts/blob/main/data/orders.jsonl" target="_blank" rel="noopener">
                        ğŸ”“ GitHub orders.jsonl
                    </a>
                </li>
                <li>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø§ÙŠÙ‚ÙˆÙ†Ø© (Ø¹Ø¯Ù„) ÙˆØ§Ø®ØªØ± Edit</li>
                <li>Ø§Ù„Ø·Ù‚ (Paste) Ù…Ø­ØªÙˆÙŠØ§Øª JSONL</li>
                <li>Ø§Ø¶ØºØ· "Commit changes"</li>
            </ol>
        </div>
        
        <textarea id="jsonOutput" placeholder="JSONL data will appear here..." readonly></textarea>
    </div>
    
    <script>
        function displayOrders() {
            const orders = JSON.parse(localStorage.getItem('emirates_orders')) || [];
            const container = document.getElementById('ordersContainer');
            const status = document.getElementById('status');
            
            if (orders.length === 0) {
                container.innerHTML = '<div class="status info">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨ÙŠØ§Øª Ù…Ø­ÙÙˆØ¸Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</div>';
                status.innerHTML = '';
                return;
            }
            
            let html = `<div class="status success">âœ… Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª: ${orders.length}</div>`;
            
            orders.forEach((order, index) => {
                html += `
                    <div class="order-item">
                        <div class="order-id">#${order.orderId}</div>
                        <div class="order-details">
                            <strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${order.fullName}<br>
                            <strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> ${order.phone}<br>
                            <strong>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:</strong> ${order.city}<br>
                            <strong>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</strong> ${order.total}<br>
                            <strong>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:</strong> ${order.items}
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
            status.innerHTML = '';
        }
        
        function copyToClipboard() {
            const orders = JSON.parse(localStorage.getItem('emirates_orders')) || [];
            const jsonlText = orders.map(order => JSON.stringify(order)).join('\n');
            
            document.getElementById('jsonOutput').value = jsonlText;
            
            // Copy to clipboard
            const textarea = document.getElementById('jsonOutput');
            textarea.select();
            document.execCommand('copy');
            
            const status = document.getElementById('status');
            status.innerHTML = '<div class="status success">âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¨Ù†Ø¬Ø§Ø­!</div>';
            setTimeout(() => {
                status.innerHTML = '';
            }, 3000);
        }
        
        function clearOrders() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯? Ø³Ø¨Ù Ù‡Ø°Ø§ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.')) {
                localStorage.removeItem('emirates_orders');
                localStorage.removeItem('emirates_orders_jsonl');
                document.getElementById('ordersContainer').innerHTML = '<div class="status error">âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¬Ù…ÙŠØ¹</div>';
                document.getElementById('jsonOutput').value = '';
            }
        }
        
        // Display orders on page load
        window.addEventListener('load', displayOrders);
    </script>
</body>
</html>